						             -*- outline -*-

* Anatomy of the tarball

The Clon distribution has the following shape:

./src/		;; source directory
./sbcl/	        ;; SBCL grovel module
./share/	;; data files
./doc/		;; documentation
./demo/         ;; demo program


* Building and installing Clon

** Edit Makefile.cnf
to tweak some installation parameters.

** Edit demo/demo.lisp
if asdf's *central-registry or source registry doesn't suit you.

** make
The build phase generates the demo program and the documentation (end-user and
user manuals). By default, documentation is built in info, PDF and HTML
formats. If you want other formats (DVI and PostScript are available), type
"make all-formats" in the doc directory. You can also type individually "make
dvi" and/or "make ps" in order to get the corresponding format.

** For ASDF 1
*** make install
This will create the system file symlink.

** For ASDF 2
The code needs not be installed as long as you're located somewhere in the
source registry. You may install the documentation though.
*** cd doc
*** make install

And you also want to install the data files:
*** cd share
*** make install


* Building and installing the reference manual
In addition to the end-user and user manuals, you can generate a reference
manual for Clon. In order to do that, you need to have Declt installed (see
http://www.lrde.epita.fr/~didier/software/lisp/misc.php#declt).

For ASDF 1, you need to have typed "make install" first (that is why the
reference manual is not built by default). For ASDF 2, there is no
prerequisite as long as you're located somewhere in the source registry.

*** cd doc
*** Edit generate.sh
most notably if asdf's *central-registry* or source registry needs tweaking. 
*** make ref
*** make install-ref

As for the rest of the documentation, "make ref" compiles the reference manual
in info, PDF and HTML formats. If you want other formats (DVI and PostScript
are available), type "make all-formats-ref". You can also individually type
"make dvi-ref" and/or "make ps-ref" in order to get the corresponding format
only.

Incidentally, a web-specific version of the reference manual is generated
under the name webreference.texi (See *link-files* in the Declt library for an
explanation). You can also format this version by using the "make webref", or
just the 'pdf-webref' / 'html-webref' sub-targets.


* Uninstalling

Type "make uninstall".
